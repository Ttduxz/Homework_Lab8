{"version":3,"sources":["firebase/config.js","firebase/firebase.js","components/Header.jsx","components/AddTransaction.jsx","components/Balance.jsx","components/IncomeExpense.jsx","components/Transaction.jsx","components/TransactionTable.jsx","components/About.jsx","App.jsx","index.jsx"],"names":["config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","apps","length","initializeApp","Header","className","to","AddTransaction","state","name","amount","onChange","e","setState","target","value","onSubmit","preventDefault","props","addTransaction","id","this","htmlFor","type","placeholder","Component","Balance","total","transactions","map","t","reduce","sum","sign","Math","abs","IncomeExpense","amounts","transaction","income","filter","item","expense","Transaction","date","t_date","Date","date_str","getDate","getMonth","getYear","TransactionTable","key","onClick","clearTransactions","About","src","alt","App","loadData","data","v4","loadJsonData","firestore","collection","onSnapshot","items","forEach","res","push","validateForm","isNaN","window","alert","newTransaction","getTime","add","unshift","confirm","get","then","Snapshot","doc","ref","delete","basename","exact","path","render","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.babb9e90.chunk.js","sourcesContent":["const config = {\n    apiKey: process.env.REACT_APP_APIKEY,\n    authDomain: process.env.REACT_APP_AUTHDOMAIN,\n    databaseURL: process.env.REACT_APP_DATABASEURL,\n    projectId: process.env.REACT_APP_PROJECTID,\n    storageBucket: process.env.REACT_APP_STORAGEBUCKET,\n    messagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID,\n    appId: process.env.REACT_APP_APPID,\n    measurementId: process.env.REACT_APP_MEASUREMENTID\n }\n  \n export default config","import firebase from 'firebase/app'\nimport 'firebase/auth'\nimport 'firebase/firestore'\nimport 'firebase/storage'\nimport config from './config'\n \nif (!firebase.apps.length) {\n   firebase.initializeApp(config)\n}\n \nexport default firebase","import React from 'react'\nimport { Link } from 'react-router-dom';\n\nexport default function Header() {\n  return (\n    <div>\n      <h1 className=\"display-4 text-center\">\n        <Link to=\"/about\">\n          <i className=\"fas fa-dollar-sign text-primary\"></i> My <span className=\"text-primary\">Expenses</span>\n        </Link>\n      </h1>\n    </div>\n  )\n}\n","import React, { Component } from 'react'\n\nexport default class AddTransaction extends Component {\n  \n  state = {\n    name:'',\n    amount:''\n  }\n\n  onChange = (e) => {\n    this.setState( { [e.target.name]: e.target.value } );\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    this.props.addTransaction(this.state.name, this.state.amount);\n    this.setState( { name:'', amount:'' });\n  }\n  \n  render() {\n    return (\n      <div>\n        <form id=\"add-transaction_form\" onSubmit={this.onSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"name\">Transaction Name:</label>\n            <input \n              type=\"text\" \n              name=\"name\" \n              className=\"form-control\" \n              placeholder=\"Expense detail ...\"\n              onChange={this.onChange}\n              value={this.state.name}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"amount\">Amount (+:income / -:expense)</label>\n            <input \n              type=\"number\" \n              name=\"amount\" \n              className=\"form-control\" \n              placeholder=\"0.00\"\n              onChange={this.onChange} \n              value={this.state.amount}\n            />\n          </div>\n\n          <input type=\"submit\" value=\"Add Transaction\" className=\"btn btn-primary btn-block\"/>\n        </form>\n      </div>\n    )\n  }\n}\n","import React from 'react'\n\nexport default function Balance(props) {\n  const transactions = props.transactions;\n  const amounts = transactions.map( t => t.amount);\n  const total = amounts.reduce( (sum,amount) => (sum+=amount), 0);\n\n  let sign = total<0 ? '-':'+';\n  if (total===0) {\n    sign = ''\n  }\n\n  return (\n    <div className=\"container mt-5 text-center\">\n      <h4>Your Balance</h4>\n      <h1 id=\"balance\">{sign}฿{Math.abs(total)}</h1>\n    </div>\n\n \n  )\n}\n","import React from 'react'\n\nexport default function IncomeExpense(props) {\n\n  const transactions = props.transactions;\n\n  const amounts = transactions.map( transaction => transaction.amount);\n  const income = amounts\n    .filter( item => item>0)\n    .reduce ( (sum, item) => (sum += item),0);\n\n  const expense = -1 * amounts\n    .filter( item => item<0)\n    .reduce ( (sum, item) => (sum += item),0);\n\n\n\n  return (\n    <div className=\"inc-exp-container\">\n      <div>\n        <h4>Income</h4>\n        <p className=\"money plus\">฿{income}</p>\n      </div>\n      <div>\n        <h4>Expense</h4>\n        <p className=\"money minus\">฿{expense}</p>\n      </div>\n    </div>\n\n  )\n}\n","import React, { Component } from 'react'\n\nexport default class Transaction extends Component {\n  render() {\n    const monthNames = [\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\n                      \"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];\n    const { name,amount,date } = this.props.transaction;\n    const t_date = new Date(date);\n    const date_str = t_date.getDate()+' '+monthNames[t_date.getMonth()]+' '+(t_date.getYear()+1900);\n\n    return (  \n      <tr className={amount<0?'minus':'plus'}>\n        <td>{ name }</td>\n        <td>{ amount }</td>\n        <td>{ amount<0?'expense':'income' }</td>\n        <td>{ date_str }</td>\n      </tr>\n\n    )\n  }\n}\n","import React from 'react'\n\nimport Transaction from './Transaction';\n\nexport default function TransactionTable(props) {\n\n  const transactions = props.transactions;\n\n  return (\n    <div>\n      <div><h3>Transaction History</h3></div>\n      <table className=\"table table-striped mt-3\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Amount</th>\n            <th>Type</th>\n            <th>Date</th>\n          </tr>\n        </thead>\n        <tbody id=\"transaction-list\">\n        {\n          transactions.map ( transaction => (\n            <Transaction  key={transaction.id} \n                          transaction={transaction} />\n          ))\n        }\n        </tbody>\n      </table>\n      <button \n        id=\"clear-history\" \n        className=\"btn btn-danger btn-block\"\n        onClick={props.clearTransactions}>Clear History</button>\n    </div>\n  )\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom';\n\nexport default function About() {\n  return (\n    <div>\n      <div className=\"container mt-5\">\n        <div className=\"card\">\n          <img src={process.env.PUBLIC_URL+'/Tee.jpg'} className='card-img-top' alt=\"...\" />\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Developer information</h5>\n            <p>Titi Kingkan (610610588)</p>\n            <p>This app use Google Firebase as backend.</p>\n            <Link to=\"/\">\n              <h3>\n                <button type=\"button\" className=\"btn btn-primary\">Home</button>\n              </h3>\n            </Link>\n          </div>\n\n        </div>\n        \n      </div>\n      \n    </div>\n  )\n}\n","import React, { Component } from 'react';\nimport {v4} from 'uuid';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport firebase from './firebase/firebase'\nimport Header from './components/Header';\nimport AddTransaction from './components/AddTransaction';\nimport Balance from './components/Balance';\nimport IncomeExpense from './components/IncomeExpense';\nimport TransactionTable from './components/TransactionTable';\nimport About from './components/About';\n\nimport './App.css';\n\nexport default class App extends Component {\n  state = {\n    transactions: []\n  }\n\n  loadData = () => {\n    // get data from variable\n    const data = [ \n      {\n        id: v4(),\n        name: 'Dinner with family',\n        amount: -1250,\n        date: new Date(2020,1,28)\n      },\n      {\n        id: v4(),\n        name: 'Movie',\n        amount: -200,\n        date: new Date(2020,1,29)\n      },\n      {\n        id: v4(),\n        name: 'Lottery',\n        amount: 1500,\n        date: new Date(2020,2,2)\n      },\n      {\n        id: v4(),\n        name: 'Salary',\n        amount: 6500,\n        date: new Date(2020,1,25)\n      }\n    ];\n\n    this.setState( { transactions: data } );\n  }\n\n  loadJsonData = () => {\n    // get data from json file: \"public/static/data.json\"\n    /*axios.get('/static/data.json')\n      .then( res => {\n        const data = res.data;\n        this.setState( { transactions: data } );\n      }); */\n      firebase.firestore().collection('data').onSnapshot(items => {\n        const transaction = [] //array type\n        items.forEach( res => {\n          transaction.push(res.data())\n        })\n        this.setState({transactions:transaction})\n      })\n  }\n\n  componentDidMount() {\n    // this.loadData();   // load data from variable\n    this.loadJsonData();  // load data from JSON file on server\n    // this.loadFirebase(); // load data from Firebase\n  }\n\n  validateForm = (name,amount) => {\n    if (!name || !amount) {\n      window.alert('Please fill in ALL data fields.');\n      return false;\n    } else if ( !isNaN(name)) {\n      window.alert('Please fill only TEXT detail in transaction name.');\n      return false;\n    } else if (+amount === 0) {\n      window.alert('Amount CANNOT be zero!');\n      return false;\n    }\n  \n    return true;\n  }\n\n  addTransaction = (name,amount) => {\n\n    if(!this.validateForm(name,amount)) {\n      return false;\n    }\n\n    const newTransaction = {\n      id: v4(),\n      name,\n      amount: +amount,\n      date: new Date().getTime()\n    }\n\n    firebase.firestore().collection('data').add(newTransaction)\n    this.state.transactions.unshift(newTransaction);\n    this.setState( { transactions: this.state.transactions } );\n  }\n\n  clearTransactions = () => {\n    let ans = window.confirm(\"You are going to clear all transaction history!!!\")\n    if (ans) {\n      firebase.firestore().collection('data').get().then(function(Snapshot){\n        Snapshot.forEach(function(doc){\n          doc.ref.delete()\n        })\n      })\n      this.setState( { transactions: [] } );\n    }\n  }\n\n  render() {\n    return (\n      <Router basename=\"/Homework_Lab8\">\n      <div className=\"container mt-4 mb-5\">\n        <Header />\n\n        <Route exact path=\"/\" render={ props => (\n          <div>\n          <AddTransaction addTransaction={this.addTransaction} />\n          <Balance transactions={this.state.transactions}/>\n          <IncomeExpense transactions={this.state.transactions}/>\n          <TransactionTable \n              transactions={this.state.transactions} \n              clearTransactions={this.clearTransactions} />\n          </div>\n        )} />\n          \n        <Route path=\"/about\" component={About} />        \n      </div>\n      </Router>\n    )\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}